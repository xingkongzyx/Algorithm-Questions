/* 
/ é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/combination-sum-iv/solution/gong-shui-san-xie-yu-wan-quan-bei-bao-we-x0kn/
/ ä¸ 518. é›¶é’±å…‘æ¢ II çš„åŒºåˆ«ï¼šhttps://leetcode-cn.com/problems/coin-change-2/solution/dong-tai-gui-hua-wan-quan-bei-bao-wen-ti-by-liweiw/

* æœ¬é¢˜ä¸ã€Œå®Œå…¨èƒŒåŒ…æ±‚æ–¹æ¡ˆæ•°ã€é—®é¢˜çš„å·®åˆ«åœ¨äºï¼šé€‰æ‹©æ–¹æ¡ˆä¸­çš„ä¸åŒçš„ç‰©å“é¡ºåºä»£è¡¨ä¸åŒæ–¹æ¡ˆã€‚
* 
* ä¸¾ä¸ª ğŸŒ°ï¼Œåœ¨ã€Œå®Œå…¨èƒŒåŒ…ã€é—®é¢˜ä¸­ï¼Œå‡‘æˆæ€»ä»·å€¼ä¸º 6 çš„æ–¹æ¡ˆ [1,2,3] ç®—æ˜¯ 1 ç§æ–¹æ¡ˆï¼Œä½†åœ¨æœ¬é¢˜ç®—æ˜¯ 3 * 2 * 1 = 6 ç§æ–¹æ¡ˆï¼ˆ[1,2,3],[2,1,3],[3,1,2] ... ï¼‰ã€‚
* 
* å› æ­¤æˆ‘ä»¬ä¸èƒ½ç›´æ¥ä»£å…¥ã€Œå®Œå…¨èƒŒåŒ…ã€çš„æ€è·¯ï¼ˆçŠ¶æ€å®šä¹‰ï¼‰æ¥æ±‚è§£ã€‚
! è€Œåœ¨é›¶é’±å…‘æ¢é—®é¢˜ä¸­ dp[i][j] ä¸ºè€ƒè™‘å‰ i ä»¶ç‰©å“ï¼Œå‡‘æˆæ€»å’Œä¸º j çš„æ–¹æ¡ˆæ•°é‡ã€‚
! å¯¹äºç¬¬ i ä¸ªç¡¬å¸æˆ‘ä»¬æœ‰ä¸¤ç§å†³ç­–æ–¹æ¡ˆï¼š
! 1. ä¸ä½¿ç”¨è¯¥ç¡¬å¸ï¼š
!     dp[i - 1][j]
! 2. ä½¿ç”¨è¯¥ç¡¬å¸ï¼šç”±äºæ¯ä¸ªç¡¬å¸å¯ä»¥è¢«é€‰æ‹©å¤šæ¬¡ï¼ˆå®¹é‡å…è®¸çš„æƒ…å†µä¸‹ï¼‰ï¼Œå› æ­¤æ–¹æ¡ˆæ•°é‡åº”å½“æ˜¯é€‰æ‹©ã€Œä»»æ„ä¸ªã€è¯¥ç¡¬å¸çš„æ–¹æ¡ˆæ€»å’Œï¼š
!  dp[iâˆ’1][jâˆ’1âˆ—nums[i]] + dp[iâˆ’1][jâˆ’2âˆ—nums[i]] + dp[iâˆ’1][jâˆ’3âˆ—nums[i]] +...+ dp[iâˆ’1][jâˆ’(j/nums[i])âˆ—nums[i]] 

* å®šä¹‰ dp[i][j] ä¸ºä»nums[0:i]ä¸­ä»»æ„é€‰æ‹©å…ƒç´ ï¼Œå‡‘æˆæ€»å’Œä¸º j çš„æ–¹æ¡ˆæ•°æ˜¯å¤šå°‘ã€‚
* 
> åœ¨è¿™é“é¢˜ä¸­ï¼Œå¯¹ä»»æ„çš„ dp[å½“å‰ç»„åˆé•¿åº¦][target] è€Œè¨€ï¼Œç»„åˆä¸­çš„æœ€åä¸€ä¸ªæ•°å­—å¯ä»¥é€‰æ‹© nums[0:i] ä¹‹é—´çš„ä»»æ„æ•°å€¼ï¼Œå› æ­¤ dp[å½“å‰ç»„åˆé•¿åº¦][target] åº”è¯¥ä¸ºä»¥ä¸‹æ‰€æœ‰æ–¹æ¡ˆæ€»å’Œï¼š
* 
* æœ€åä¸€ä¸ªæ•°é€‰æ‹© nums[0]ï¼Œæ–¹æ¡ˆæ•°ä¸º dp[len][target - nums[0]]
* æœ€åä¸€ä¸ªæ•°é€‰æ‹© nums[1]ï¼Œæ–¹æ¡ˆæ•°ä¸º dp[len][target - nums[1]]
* æœ€åä¸€ä¸ªæ•°é€‰æ‹© nums[2]ï¼Œæ–¹æ¡ˆæ•°ä¸º dp[len][target - nums[2]]

# æ³¨æ„: è¦åœ¨æœ¬å±‚çš„åŸºç¡€ä¸Šè¿›è¡ŒåŠ æ³•æ“ä½œï¼Œå¦‚æœæœ¬å±‚æ²¡æœ‰ä»»ä½•æ»¡è¶³çš„å…ƒç´ ï¼Œåˆ™ç›´æ¥ç”¨ä¸Šå±‚çš„å€¼dp[len-1][target]ã€‚ç”¨æœ¬å±‚å…ƒç´ åŠ çš„åŸå› æ˜¯æœ¬å±‚æ‰ä¼šè€ƒè™‘æ–°çš„å…ƒç´  nums[i], åœ¨nums[i] å‡ºç°çš„åŸºç¡€ä¸Šjä¹Ÿä¼šæœ‰æ–°çš„æ’åºæ•°
*/
var combinationSum4 = function (nums, target) {
    let dp = new Array(nums.length);

    for (let i = 0; i < dp.length; i++) {
        dp[i] = new Array(target + 1).fill(0);
    }

    for (let i = nums[0]; i <= target; i += nums[0]) {
        dp[0][i] = 1;
    }

    dp[0][0] = 1;
    console.log(dp);
    for (let i = 1; i < nums.length; i++) {
        for (let j = 0; j <= target; j++) {
            // æœ‰çš„æ•°å®ƒå±äºnums[0,i]ä¹‹é—´ä»»ä½•å…ƒç´ éƒ½æ— æ³•å¯¹å…¶äº§ç”Ÿæ–°çš„ç»„åˆï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ä¸Šä¸€è¡Œçš„å€¼
            let currentPosHasChanged = false;
            for (let idx = 0; idx <= i; idx++) {
                if (j >= nums[idx]) {
                    dp[i][j] += dp[i][j - nums[idx]];
                    currentPosHasChanged = true;
                }
            }
            if (currentPosHasChanged === false)
                dp[i][j] = dp[i - 1][j];
        }
    }
    // console.log(dp);
    return dp[nums.length - 1][target];
};
console.log(combinationSum4([1, 2, 3], 4));
